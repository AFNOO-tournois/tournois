<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  
  <title>Admin Panel - Le Centre franco</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/images/logo-only.png">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  
  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="css/main.css">
  
  <!-- Supabase Client (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  
  <!-- LOGIN SCREEN -->
  <div id="loginScreen" style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #005CA9 0%, #004a8a 100%);">
    <div style="background: white; padding: 3rem; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); max-width: 400px; width: 90%;">
      <img src="assets/images/logo-full.png" alt="Le Centre franco" style="width: 200px; margin: 0 auto 2rem; display: block;">
      <h1 style="text-align: center; color: #005CA9; margin-bottom: 2rem;">Admin Panel</h1>
      
      <form id="loginForm">
        <div class="form-group">
          <label for="adminPassword" class="form-label">Password</label>
          <input 
            type="password" 
            id="adminPassword" 
            class="form-input"
            placeholder="Enter admin password"
            required
            autocomplete="current-password"
          >
        </div>
        
        <button type="submit" class="btn btn-primary" style="width: 100%;">
          Login
        </button>
        
        <div id="loginError" class="form-error hidden" style="margin-top: 1rem;"></div>
      </form>
      
      <p style="text-align: center; margin-top: 2rem; font-size: 0.875rem; color: #666;">
        <a href="index.html" style="color: #005CA9;">‚Üê Back to Home</a>
      </p>
    </div>
  </div>

  <!-- ADMIN INTERFACE -->
  <div id="adminInterface" class="hidden">
    
    <!-- HEADER -->
    <header class="header" role="banner">
      <div class="header-container">
        <!-- Logo -->
        <a href="index.html" class="logo-container">
          <img src="assets/images/logo-only.png" alt="Le Centre franco logo" class="logo-img">
          <div class="logo-text">
            <h1 class="logo-title">Admin Panel</h1>
            <p class="logo-subtitle">Le Centre franco</p>
          </div>
        </a>
        
        <!-- Admin Navigation -->
        <nav role="navigation">
          <ul class="nav-menu">
            <li><a href="index.html" class="nav-link">üè† Home</a></li>
            <li><a href="bracket.html" class="nav-link" target="_blank">üëÅÔ∏è View Brackets</a></li>
            <li>
              <button id="logoutBtn" class="btn btn-accent" style="padding: 0.5rem 1rem;">Logout</button>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- MAIN ADMIN CONTENT -->
    <main class="section">
      <div class="container" style="max-width: 1400px;">
        
        <!-- Admin Tabs -->
        <div style="display: flex; gap: 1rem; margin-bottom: 2rem; border-bottom: 2px solid #e0e0e0; flex-wrap: wrap;">
          <button class="admin-tab active" data-tab="participants">
            üë• Participants
          </button>
          <button class="admin-tab" data-tab="results">
            üèÜ Enter Results
          </button>
          <button class="admin-tab" data-tab="tournaments">
            ‚öôÔ∏è Manage Tournaments
          </button>
        </div>

        <!-- TAB 1: PARTICIPANTS -->
        <div id="tab-participants" class="admin-tab-content">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
            <h2>Participant Management</h2>
            <div style="display: flex; gap: 1rem;">
              <select id="filterTournament" class="form-select" style="width: auto;">
                <option value="all">All Tournaments</option>
                <option value="pvp">RIVALS (13-18)</option>
                <option value="all-ages">Racing (All Ages)</option>
              </select>
              <button class="btn btn-secondary" onclick="window.location.reload()">üîÑ Refresh</button>
              <button class="btn btn-primary" id="exportBtn">üì• Export CSV</button>
            </div>
          </div>

          <div class="table-container">
            <table class="table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Roblox Username</th>
                  <th>Tournament</th>
                  <th>Signup Time</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="participantsTableBody">
                <tr>
                  <td colspan="6" style="text-align: center; padding: 2rem; color: #666;">
                    Loading participants...
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- TAB 2: ENTER RESULTS -->
        <div id="tab-results" class="admin-tab-content hidden">
          <h2 style="margin-bottom: 2rem;">Enter Tournament Results</h2>
          
          <!-- Tournament Selection -->
          <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 2rem;">
            <div class="form-group">
              <label class="form-label">Select Tournament</label>
              <select id="resultsTournament" class="form-select">
                <option value="">-- Choose Tournament --</option>
                <option value="pvp">RIVALS (13-18 ans)</option>
                <option value="all-ages">Racing (All Ages)</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label">Round Number</label>
              <input type="number" id="resultsRound" class="form-input" value="1" min="1" max="10">
            </div>
            
            <button class="btn btn-primary" id="loadResultsBtn">Load Participants</button>
          </div>

          <!-- Results Entry Form -->
          <div id="resultsEntryContainer" class="hidden">
            <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
              <h3 style="margin-bottom: 1.5rem;">
                Round <span id="displayRound">1</span> Results
              </h3>
              
              <p style="margin-bottom: 1.5rem; padding: 1rem; background: #E3F2FD; border-radius: 8px; border-left: 4px solid #005CA9;">
                <strong>Instructions:</strong> Enter the placement number (1, 2, 3...) in the box next to each participant's name. 
                1st place = 1, 2nd place = 2, etc. Then click "Save Results".
              </p>
              
              <div class="table-container">
                <table class="table">
                  <thead>
                    <tr>
                      <th style="width: 50px;">#</th>
                      <th>Participant</th>
                      <th style="width: 150px;">Placement</th>
                      <th style="width: 100px;">Points</th>
                    </tr>
                  </thead>
                  <tbody id="resultsTableBody">
                    <!-- Results entry rows will be inserted here -->
                  </tbody>
                </table>
              </div>
              
              <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: flex-end;">
                <button class="btn btn-outline" id="clearResultsBtn">Clear All</button>
                <button class="btn btn-primary" id="saveResultsBtn">üíæ Save Results</button>
              </div>
              
              <div id="resultsSaved" class="hidden" style="margin-top: 1rem; padding: 1rem; background: #E8F5E9; border-radius: 8px; color: #2E7D32; text-align: center;">
                ‚úÖ Results saved successfully! Brackets updated.
              </div>
            </div>
          </div>
        </div>

        <!-- TAB 3: MANAGE TOURNAMENTS -->
        <div id="tab-tournaments" class="admin-tab-content hidden">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
            <h2>Tournament Management</h2>
            <button class="btn btn-primary" id="createTournamentBtn">‚ûï Create New Tournament</button>
          </div>

          <div id="tournamentsList">
            <!-- Tournament management cards will be inserted here -->
            <div style="text-align: center; padding: 3rem; background: #f5f5f5; border-radius: 12px;">
              <p style="color: #666;">Dynamic tournament management coming in next update!</p>
              <p style="color: #666; font-size: 0.875rem; margin-top: 0.5rem;">For now, tournaments are hardcoded in index.html</p>
            </div>
          </div>
        </div>

      </div>
    </main>

  </div>

  <!-- SCRIPTS -->
  <script src="js/config.js"></script>
  <script src="js/i18n.js"></script>
  <script src="js/admin.js"></script>

  <style>
    /* Admin-specific styles */
    .admin-tab {
      background: transparent;
      border: none;
      padding: 1rem 1.5rem;
      font-weight: 600;
      color: #666;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s ease;
    }
    
    .admin-tab:hover {
      color: #005CA9;
    }
    
    .admin-tab.active {
      color: #005CA9;
      border-bottom-color: #E6007E;
    }
    
    .admin-tab-content {
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .placement-input {
      width: 80px;
      padding: 0.5rem;
      font-size: 1rem;
      font-weight: 600;
      text-align: center;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      transition: border-color 0.2s ease;
    }
    
    .placement-input:focus {
      outline: none;
      border-color: #005CA9;
      box-shadow: 0 0 0 3px rgba(0, 92, 169, 0.1);
    }
    
    .placement-input[data-placement="1"] {
      border-color: #FFD700;
      background: #FFFBF0;
    }
    
    .placement-input[data-placement="2"] {
      border-color: #C0C0C0;
      background: #F5F5F5;
    }
    
    .placement-input[data-placement="3"] {
      border-color: #CD7F32;
      background: #FFF5E6;
    }
    
    .points-display {
      font-weight: 700;
      color: #8DC63F;
      font-size: 1.125rem;
    }
  </style>

</body>
</html>
